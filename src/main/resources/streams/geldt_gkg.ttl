@prefix : <http://vocab.org/transit/terms/>.
@prefix rr: <http://www.w3.org/ns/r2rml#>.
@prefix rml: <http://semweb.mmlab.be/ns/rml#>.
@prefix ql: <http://semweb.mmlab.be/ns/ql#>.
@prefix geldt: <http://vocab.org/transit/terms/>.
@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.
@prefix wgs84_pos: <http://www.w3.org/2003/01/geo/wgs84_pos#>.
@prefix carml: <http://carml.taxonic.com/carml/> .

<#GELDTMapping> a rr:TriplesMap ;
  rml:logicalSource [
    rml:source [
       a carml:Stream ;
       carml:streamName "GELDTStream" ;
    ] ;
    rml:referenceFormulation ql:CSV
  ];

  rr:subjectMap [
    rr:template "http://geldt.com/{GKGRECORDID}";
    rr:class geldt:GKG ;
    rr:graphMap [ rr:template  "http://geldt.time.com/{DATE}" ]

  ];

  rr:predicateObjectMap [
    rr:predicate geldt:source;
    rr:objectMap [
          rml:reference "SourceCollectionIdentifier";
      ]
    ];




  rr:predicateObjectMap [
    rr:predicate gdelt:date;
    rr:objectMap [
      rml:reference "DATE"
    ]
  ];


  rr:predicateObjectMap [
    rr:predicate gdelt:sourceName;
    rr:objectMap [
      rml:reference "SourceCommonName"
    ]
  ];


  rr:predicateObjectMap [
    rr:predicate gdelt:documentId;
    rr:objectMap [
      rml:reference "DocumentIdentifier"
    ]
  ];


  rr:predicateObjectMap [
    rr:predicate gdelt:shareImage;
    rr:objectMap [
      rml:reference "SharingImage"
    ]
  ];


  rr:predicateObjectMap [
    rr:predicate gdelt:GKGextras;
    rr:objectMap [
      rml:reference "Extras"
    ]
  ];


.